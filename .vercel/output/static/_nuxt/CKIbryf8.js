import{e as re,r as l,g as ie,z as ce,c as v,a as t,J as B,d as ue,F as E,i as X,s as de,Q as k,H as z,K as V,G as F,o as g,n as $,t as I,_ as me}from"./BCXaO8k1.js";const ve={class:"mb-6 md:mb-8"},ge={class:"border-b border-gray-200"},pe={class:"flex -mb-px space-x-6 overflow-x-auto scrollbar-hidden","aria-label":"Tabs"},he=["onClick"],xe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8"},fe={class:"lg:col-span-2 bg-white rounded-lg shadow p-4 md:p-6"},be=["src"],ye={key:0,class:"absolute inset-0 flex items-center justify-center"},we=["src"],ke={class:"grid grid-cols-2 sm:grid-cols-4 gap-3"},_e={class:"bg-white rounded-lg shadow p-4 md:p-6 mb-4 md:mb-6"},Ce={class:"grid grid-cols-2 gap-3"},Me=["onClick"],De=["src","alt"],Te={class:"text-xs text-center font-medium"},Re={class:"bg-white rounded-lg shadow p-4 md:p-6"},Le={class:"block w-full cursor-pointer"},Ye={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-colors"},Ee={class:"mt-4"},Xe={class:"grid grid-cols-3 gap-2"},Se=["onClick"],je=["src","alt"],Pe={key:0,class:"fixed bottom-4 right-4 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded shadow-md transition-all",style:{"max-width":"300px","z-index":"50"}},Be=re({__name:"workspace",setup(ze){const U=[{id:"design",name:"Design"},{id:"mockup",name:"Mockup"},{id:"colors",name:"Colors & Variants"},{id:"settings",name:"Product Settings"}],S=l("design"),j=l([{id:1,name:"T-Shirt",image:"/assets/products/tshirt.png"},{id:2,name:"Hoodie",image:"/assets/products/hoodie.png"},{id:3,name:"Mug",image:"/assets/products/mug.png"},{id:4,name:"Tote Bag",image:"/assets/products/bags.png"}]),M=l(j.value[0]),b=l(null),i=l({x:0,y:0}),h=l({x:0,y:0}),c=l(1),u=l(0),x=l(!1),d=l(!1),m=l(!1),n=l({x:0,y:0}),_=l(null),P=l(["/assets/templates/template1.png","/assets/templates/template2.png","/assets/templates/template3.png"]),D=l(!1),A=s=>{M.value=s},H=s=>{const e=s.target;if(e.files&&e.files.length>0){const o=e.files[0],a=new FileReader;a.onload=r=>{r.target&&typeof r.target.result=="string"&&(b.value=r.target.result,C())},a.readAsDataURL(o)}},N=s=>{b.value=s,C()},G=s=>{d.value||m.value||(x.value=!0,n.value={x:s.clientX,y:s.clientY},h.value={...i.value},document.addEventListener("mousemove",T),document.addEventListener("mouseup",R))},T=s=>{if(!x.value)return;const e=s.clientX-n.value.x,o=s.clientY-n.value.y;i.value={x:h.value.x+e,y:h.value.y+o}},R=()=>{x.value=!1,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",R)},O=s=>{if(!(d.value||m.value)&&s.touches.length===1){x.value=!0;const e=s.touches[0];n.value={x:e.clientX,y:e.clientY},h.value={...i.value}}},J=s=>{},q=s=>{if(x.value&&s.touches.length===1){const e=s.touches[0],o=e.clientX-n.value.x,a=e.clientY-n.value.y;i.value={x:h.value.x+o,y:h.value.y+a}}else if(d.value&&s.touches.length===1){const e=s.touches[0],o=e.clientX-n.value.x,a=e.clientY-n.value.y,p=c.value+(o+a)*.01;c.value=Math.max(.5,Math.min(2,p)),n.value={x:e.clientX,y:e.clientY}}else m.value&&s.touches.length===1&&te(s)},K=s=>{x.value=!1,d.value=!1,m.value=!1},Q=s=>{s.preventDefault(),d.value=!0,n.value={x:s.clientX,y:s.clientY},document.addEventListener("mousemove",L),document.addEventListener("mouseup",Y)},L=s=>{if(!d.value)return;const e=s.clientX-n.value.x,o=s.clientY-n.value.y,r=c.value+(e+o)*.01;c.value=Math.max(.5,Math.min(2,r)),n.value={x:s.clientX,y:s.clientY}},Y=()=>{d.value=!1,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",Y)},W=s=>{if(s.preventDefault(),s.touches.length===1){d.value=!0;const e=s.touches[0];n.value={x:e.clientX,y:e.clientY}}},Z=s=>{s.preventDefault(),m.value=!0;const e=s.currentTarget.getBoundingClientRect(),o=e.left+e.width/2,a=e.top+e.height/2,r=Math.atan2(s.clientY-a,s.clientX-o)*(180/Math.PI),p=u.value,y=w=>{const le=Math.atan2(w.clientY-a,w.clientX-o)*(180/Math.PI)-r;u.value=(p+le+360)%360},f=()=>{m.value=!1,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",f)},ee=s=>{if(s.preventDefault(),s.touches.length===1){m.value=!0;const e=s.touches[0],o=s.currentTarget.getBoundingClientRect(),a=o.left+o.width/2,r=o.top+o.height/2,p=Math.atan2(e.clientY-r,e.clientX-a)*(180/Math.PI);n.value={x:e.clientX,y:e.clientY};const y=u.value,f={centerX:a,centerY:r,angleStart:p,startRotation:y};Object.assign(_.value||{},{rotateData:f})}},te=s=>{var w;if(!m.value||!((w=_.value)!=null&&w.rotateData))return;const e=s.touches[0],{centerX:o,centerY:a,angleStart:r,startRotation:p}=_.value.rotateData,f=Math.atan2(e.clientY-a,e.clientX-o)*(180/Math.PI)-r;u.value=(p+f+360)%360},se=()=>{i.value={x:0,y:0}},C=()=>{i.value={x:0,y:0},c.value=1,u.value=0},oe=()=>{C()},ae=()=>{b.value=null,C()},ne=()=>{D.value=!0,setTimeout(()=>{D.value=!1},3e3)};return ie(()=>{P.value=["/assets/products/tshirt-2.png","/assets/products/hoodie-2.png","/assets/products/bags.png"]}),ce(()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",R),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",Y)}),(s,e)=>(g(),v("div",null,[t("div",ve,[t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4"},[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-xl sm:text-2xl font-bold text-primary mb-1"},"Design Workspace"),t("p",{class:"text-gray-600 text-sm md:text-base"},"Create and customize your product designs")],-1)),t("div",{class:"mt-4 sm:mt-0"},[t("button",{class:"btn-primary text-sm md:text-base w-full sm:w-auto",onClick:ne},e[2]||(e[2]=[t("span",{class:"flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})]),ue(" Save Design ")],-1)]))])]),t("div",ge,[t("nav",pe,[(g(),v(E,null,X(U,o=>t("button",{key:o.id,onClick:a=>S.value=o.id,class:$(["py-3 px-1 whitespace-nowrap text-sm font-medium border-b-2 transition-colors",S.value===o.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},I(o.name),11,he)),64))])])]),t("div",xe,[t("div",fe,[t("div",{class:"aspect-square w-full bg-gray-100 rounded-lg flex items-center justify-center relative overflow-hidden mb-4",ref_key:"canvasArea",ref:_,onTouchstart:J,onTouchmove:q,onTouchend:K},[t("img",{src:M.value.image,alt:"Product template",class:"w-full h-full object-contain"},null,8,be),b.value?(g(),v("div",ye,[t("div",{class:"w-1/2 h-1/2 relative cursor-move",onMousedown:G,onTouchstart:k(O,["prevent"]),style:de({transform:`translate(${i.value.x}px, ${i.value.y}px) scale(${c.value}) rotate(${u.value}deg)`,transformOrigin:"center center"})},[t("img",{src:b.value,alt:"Your design",class:"w-full h-full object-contain"},null,8,we),t("div",{class:"absolute -bottom-3 -right-3 w-6 h-6 bg-secondary rounded-full cursor-se-resize flex items-center justify-center",onMousedown:k(Q,["stop"]),onTouchstart:k(W,["prevent","stop"])},e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})],-1)]),32),t("div",{class:"absolute -top-3 -right-3 w-6 h-6 bg-purple rounded-full cursor-pointer flex items-center justify-center",onMousedown:k(Z,["stop"]),onTouchstart:k(ee,["prevent","stop"])},e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]),32)],36)])):B("",!0)],544),t("div",ke,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Scale",-1)),z(t("input",{type:"range",min:"0.5",max:"2",step:"0.01","onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),class:"w-full"},null,512),[[V,c.value]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Rotation",-1)),z(t("input",{type:"range",min:"0",max:"360",step:"1","onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),class:"w-full"},null,512),[[V,u.value]])]),t("div",{class:"sm:col-span-2 flex flex-wrap gap-2"},[t("button",{class:"px-2 py-1 bg-gray-100 hover:bg-gray-200 text-xs rounded flex items-center",onClick:oe}," Reset "),t("button",{class:"px-2 py-1 bg-gray-100 hover:bg-gray-200 text-xs rounded flex items-center",onClick:ae}," Remove "),t("button",{class:"px-2 py-1 bg-accent text-white hover:bg-opacity-90 text-xs rounded flex items-center",onClick:se}," Center ")])])]),t("div",null,[t("div",_e,[e[8]||(e[8]=t("h3",{class:"text-sm md:text-base font-bold text-primary mb-3"},"Choose Product",-1)),t("div",Ce,[(g(!0),v(E,null,X(j.value,o=>(g(),v("div",{key:o.id,onClick:a=>A(o),class:$(["cursor-pointer border rounded-lg p-2 transition-all",M.value.id===o.id?"border-primary bg-secondary bg-opacity-20":"border-gray-200 hover:border-gray-300"])},[t("img",{src:o.image,alt:o.name,class:"w-full h-20 object-contain mb-2"},null,8,De),t("p",Te,I(o.name),1)],10,Me))),128))])]),t("div",Re,[e[11]||(e[11]=t("h3",{class:"text-sm md:text-base font-bold text-primary mb-3"},"Upload Design",-1)),t("label",Le,[t("div",Ye,[e[9]||(e[9]=F('<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-7bd6acf1><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-7bd6acf1></path></svg><p class="mt-2 text-xs sm:text-sm text-gray-600" data-v-7bd6acf1> Drag and drop an image or <span class="text-primary font-medium" data-v-7bd6acf1>browse</span></p><p class="mt-1 text-xs text-gray-500" data-v-7bd6acf1>PNG, JPG, SVG (max 5MB)</p>',3)),t("input",{type:"file",class:"hidden",accept:"image/*",onChange:H},null,32)])]),t("div",Ee,[e[10]||(e[10]=t("h4",{class:"text-xs font-medium text-gray-700 mb-2"},"Or choose from templates:",-1)),t("div",Xe,[(g(!0),v(E,null,X(P.value,(o,a)=>(g(),v("div",{key:a,onClick:r=>N(o),class:"cursor-pointer border rounded-lg p-1 hover:border-primary"},[t("img",{src:o,alt:"Template "+(a+1),class:"w-full h-12 object-contain"},null,8,je)],8,Se))),128))])])])])]),D.value?(g(),v("div",Pe,e[12]||(e[12]=[F('<div class="flex items-center" data-v-7bd6acf1><div class="py-1" data-v-7bd6acf1><svg class="h-6 w-6 text-green-500 mr-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-7bd6acf1><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-7bd6acf1></path></svg></div><div data-v-7bd6acf1><p class="font-bold" data-v-7bd6acf1>Design saved!</p><p class="text-sm" data-v-7bd6acf1>Your design has been saved successfully.</p></div></div>',1)]))):B("",!0)]))}}),$e=me(Be,[["__scopeId","data-v-7bd6acf1"]]);export{$e as default};
