import{d as M,E as B,a as P}from"./BqodU455.js";import"./Bozr7WB9.js";import{aq as R,e as k,am as S,q as _,c as w,a,t as p,l as i,J as E,n as b,o as x,_ as z,r as g,g as C,E as I,G as c,b as n,H as y,K as V,ap as T,d as O,w as N,ak as Y}from"./BCXaO8k1.js";import{d as A}from"./Dk_0FWyk.js";const j=()=>R({url:"saas-aimall-overview/overview/shop/balance"}),U={class:"flex justify-between items-center mt-6"},L={class:"text-sm text-gray-700"},$={class:"flex space-x-2"},F=["disabled"],H=["disabled"],G=k({__name:"Pagination",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(h){const e=S(h,"modelValue"),v=_(()=>(e.value.current-1)*e.value.size+1),f=_(()=>{const u=e.value.current*e.value.size;return u>e.value.total?e.value.total:u}),r=u=>{u>=1&&u<=e.value.total&&(e.value.current=u)};return(u,o)=>(x(),w("div",U,[a("div",L," 显示 "+p(i(v))+" 到 "+p(i(f))+" 条，共 "+p(e.value.total)+" 条 ",1),a("nav",$,[a("button",{class:b(["px-3 py-1 rounded border hover:bg-gray-100",e.value.current===1?"bg-gray-100":""]),disabled:e.value.current===1,onClick:o[0]||(o[0]=t=>r(e.value.current-1))}," < ",10,F),e.value.current>1?(x(),w("button",{key:0,class:"px-3 py-1 rounded border hover:bg-gray-100",onClick:o[1]||(o[1]=t=>r(e.value.current-1))},p(e.value.current-1),1)):E("",!0),a("button",{class:b(["px-3 py-1 rounded border bg-primary text-white",{"bg-primary text-white":!0,"bg-gray-100":e.value.current===e.value.current}])},p(e.value.current),3),e.value.current*e.value.size<e.value.total?(x(),w("button",{key:1,class:"px-3 py-1 rounded border hover:bg-gray-100",onClick:o[2]||(o[2]=t=>r(e.value.current+1))},p(e.value.current+1),1)):E("",!0),a("button",{class:b(["px-3 py-1 rounded border hover:bg-gray-100",e.value.current*e.value.size>=e.value.total?"bg-gray-100":""]),disabled:e.value.current*e.value.size>=e.value.total||!e.value.total,onClick:o[3]||(o[3]=t=>r(e.value.current+1))}," > ",10,H)])]))}}),W=z(G,[["__scopeId","data-v-01b24519"]]),q={class:"container mx-auto py-6"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},K={class:"bg-white rounded-lg shadow p-6"},Q={class:"text-3xl font-bold text-primary"},X={class:"bg-white rounded-lg shadow p-6"},Z={class:"text-3xl font-bold text-yellow-600"},tt={class:"bg-white rounded-lg shadow p-6"},et={class:"text-3xl font-bold text-green-600"},at={class:"bg-white rounded-lg shadow p-4 mb-6"},ot={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},lt={class:"flex flex-col"},st={class:"flex flex-col"},rt={class:"flex flex-col"},nt=k({__name:"index",setup(h){const e=g({undrawn:"0",total:"0",uncompleted:"0"});C(async()=>{try{const{data:o}=await j();o&&(e.value.total=o.total,e.value.uncompleted=o.uncompleted,e.value.undrawn=o.undrawn)}catch(o){console.error(o)}});const v=g({size:10,current:1,total:0}),f=g(),r=I({tradeNo:"",bizTypes:"",time:""}),u=async()=>{let o;r.time&&(o=[A().add(-1*+r.time,"day").format("YYYY-MM-DD 00:00:00"),A().format("YYYY-MM-DD 23:59:59")]);const{data:t}=await M({size:v.value.size,current:v.value.current,tradeNo:r.tradeNo,bizTypes:r.bizTypes,startTime:o==null?void 0:o[0],endTime:o==null?void 0:o[1]});f.value=t.records,v.value.total=t.total};return C(()=>{u()}),(o,t)=>{const d=P,D=B;return x(),w("div",q,[t[16]||(t[16]=c('<div class="flex justify-between items-center mb-6" data-v-f6a94621><h1 class="text-2xl font-bold" data-v-f6a94621>我的钱包</h1><div class="flex space-x-4" data-v-f6a94621><button class="btn-primary" data-v-f6a94621><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-f6a94621><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" data-v-f6a94621></path></svg> 申请提现 </button></div></div>',1)),a("div",J,[a("div",K,[t[4]||(t[4]=c('<div class="flex items-center justify-between mb-4" data-v-f6a94621><h3 class="text-lg font-semibold" data-v-f6a94621>账户余额</h3><div class="p-2 bg-primary-light rounded-full" data-v-f6a94621><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-f6a94621><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f6a94621></path></svg></div></div>',1)),a("p",Q,"¥"+p(i(e).undrawn),1),t[5]||(t[5]=a("p",{class:"text-sm text-gray-500 mt-2"},"可提现金额",-1))]),a("div",X,[t[6]||(t[6]=c('<div class="flex items-center justify-between mb-4" data-v-f6a94621><h3 class="text-lg font-semibold" data-v-f6a94621>待结算</h3><div class="p-2 bg-yellow-100 rounded-full" data-v-f6a94621><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-f6a94621><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f6a94621></path></svg></div></div>',1)),a("p",Z," ¥"+p(i(e).uncompleted),1),t[7]||(t[7]=a("p",{class:"text-sm text-gray-500 mt-2"},"预计7天后可提现",-1))]),a("div",tt,[t[8]||(t[8]=c('<div class="flex items-center justify-between mb-4" data-v-f6a94621><h3 class="text-lg font-semibold" data-v-f6a94621>累计收入</h3><div class="p-2 bg-green-100 rounded-full" data-v-f6a94621><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-f6a94621><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" data-v-f6a94621></path></svg></div></div>',1)),a("p",et,"¥"+p(i(e).total),1),t[9]||(t[9]=a("p",{class:"text-sm text-gray-500 mt-2"},"近30天收入",-1))])]),a("div",at,[a("div",ot,[a("div",lt,[t[10]||(t[10]=a("label",{class:"text-sm text-gray-600 mb-1"},"交易编号",-1)),y(a("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>i(r).tradeNo=l),type:"text",class:"form-input",placeholder:"请输入"},null,512),[[V,i(r).tradeNo]])]),a("div",st,[t[12]||(t[12]=a("label",{class:"text-sm text-gray-600 mb-1"},"交易类型",-1)),y(a("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=l=>i(r).bizTypes=l)},t[11]||(t[11]=[c('<option value="" data-v-f6a94621>全部类型</option><option value="RECHARGE" data-v-f6a94621>预付</option><option value="ORDER_PAY" data-v-f6a94621>订单支付</option><option value="REFUND" data-v-f6a94621>退款</option><option value="COMPENSATION" data-v-f6a94621>赔付</option><option value="WITHDRAW" data-v-f6a94621>提现</option>',6)]),512),[[T,i(r).bizTypes]])]),a("div",rt,[t[14]||(t[14]=a("label",{class:"text-sm text-gray-600 mb-1"},"时间范围",-1)),y(a("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=l=>i(r).time=l)},t[13]||(t[13]=[a("option",{value:""},"所有",-1),a("option",{value:"7"},"最近7天",-1),a("option",{value:"30"},"最近30天",-1),a("option",{value:"90"},"最近90天",-1)]),512),[[T,i(r).time]])]),a("div",{class:"flex flex-col justify-end"},[a("button",{class:"btn-secondary w-full",onClick:u},t[15]||(t[15]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),O(" 搜索 ")]))])])]),n(D,{"row-key":"id",data:i(f),style:{width:"100%"},class:"shadow rounded-lg","empty-text":"暂无交易记录"},{default:N(()=>[n(d,{type:"index",width:"50",label:"序号",fixed:""}),n(d,{width:"200",prop:"transAmount",label:"交易金额"},{default:N(l=>[a("span",{class:b(["REFUND","COMPENSATION"].includes(l.row.payBizType)?"text-red-300":"")},p((["REFUND","COMPENSATION"].includes(l.row.payBizType)?"+":"-")+"￥"+l.row.transAmount),3)]),_:1}),n(d,{width:"200",prop:"currentBalance",label:"可用余额",formatter:(l,m,s)=>l.payType==="BALANCE"?s:""},null,8,["formatter"]),n(d,{width:"200",prop:"currentFreeze",label:"冻结金额",formatter:(l,m,s)=>l.payType==="BALANCE"?s:""},null,8,["formatter"]),n(d,{width:"200",prop:"currency",label:"交易币种"}),n(d,{width:"200",prop:"tradeNo",label:"交易编号"}),n(d,{width:"200",prop:"bizNo",label:"关联订单"}),n(d,{width:"200",prop:"payBizType",label:"业务类型",formatter:(l,m,s)=>({RECHARGE:"预付",ORDER_PAY:"订单支付",REFUND:"平台退款",COMPENSATION:"平台赔付",WITHDRAW:"提现"})[s]??"未知类型"},null,8,["formatter"]),n(d,{width:"200",prop:"payType",label:"支付类型",formatter:(l,m,s)=>s?{BALANCE:"余额支付",CMBPAY:"聚合支付"}[s]??"未知类型":""},null,8,["formatter"]),n(d,{width:"200",prop:"payDetailType",label:"支付方式",formatter:(l,m,s)=>s?{ALIPAY:"支付宝",WECHAT:"微信支付",UNIONPAY:"银联",DCEP:"数字人民币",BALANCE:"余额"}[s]??"未知方式":""},null,8,["formatter"]),n(d,{width:"200",prop:"tradeStatus",label:"交易状态",formatter:(l,m,s)=>s?{PENDING_TRADE:"待支付",OVERTIME_CLOSE:"交易关闭",SUCCESS_APPLY_TRADE:"交易中",FAIL_APPLY_TRADE:"交易失败",SUCCESS_TRADE:"交易成功",FAIL_TRADE:"交易失败"}[s]??"未知状态":""},null,8,["formatter"]),n(d,{width:"200",prop:"payChannelNo",label:"第三方支付流水号",formatter:(l,m,s)=>l.payBizType==="REFUND"||l.payBizType==="COMPENSATION"?"":s},null,8,["formatter"]),n(d,{width:"200",prop:"tradeTime",label:"日期"})]),_:1},8,["data"]),n(W,{modelValue:i(v),"onUpdate:modelValue":t[3]||(t[3]=l=>Y(v)?v.value=l:null)},null,8,["modelValue"])])}}}),vt=z(nt,[["__scopeId","data-v-f6a94621"]]);export{vt as default};
