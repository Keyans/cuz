import{_ as $}from"./CBeqNIc1.js";import{_ as z,ah as H,r as p,q as C,g as O,c as o,G as I,a as t,t as s,F as v,b as j,w as A,i as g,J as n,ai as L,aj as M,o as d,d as F,n as V}from"./BCXaO8k1.js";const R={class:"container mx-auto py-6"},E={key:0,class:"space-y-4"},G={key:1,class:"flex flex-col items-center justify-center min-h-[400px]"},J={class:"text-red-500 text-xl mb-4"},Q={class:"flex text-sm text-gray-500 mb-6"},X={class:"flex justify-between mb-6"},Y={class:"text-2xl font-bold"},K={class:"px-4 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors"},W={class:"bg-white rounded-lg shadow overflow-hidden mb-6"},Z={class:"p-4"},tt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},et={class:"flex items-center mb-4"},st={class:"text-gray-600 whitespace-nowrap"},at={class:"flex items-center mb-4"},it={class:"text-gray-700 whitespace-nowrap"},ot={class:"flex items-center mb-4"},dt={class:"text-gray-700 whitespace-nowrap"},rt={class:"flex items-center"},lt={class:"text-gray-700 whitespace-nowrap"},nt={class:"flex items-center mb-4"},ct={class:"text-gray-700 whitespace-nowrap"},ut={class:"flex items-center mb-4"},pt={class:"text-gray-700 whitespace-nowrap"},vt={class:"flex items-center mb-4"},mt={class:"text-gray-700 whitespace-nowrap"},xt={class:"flex items-center mb-4"},gt={class:"text-gray-700 whitespace-nowrap"},bt={class:"flex items-center mb-4"},ht={class:"text-gray-700 whitespace-nowrap"},wt={class:"flex items-center"},yt={class:"text-gray-700 whitespace-nowrap"},_t={class:"bg-white rounded-lg shadow overflow-hidden mb-6"},ft={class:"overflow-x-auto"},kt={class:"min-w-full divide-y divide-gray-200"},Tt={class:"bg-white divide-y divide-gray-200"},Nt={class:"px-4 py-4"},Ct={class:"flex"},jt=["src"],At={class:"text-sm text-gray-900"},Ft={class:"text-sm text-gray-500"},Vt={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},qt={class:"px-4 py-4"},Bt={class:"flex"},St=["src"],Dt={class:"text-sm text-gray-900"},Pt={class:"text-sm text-gray-500"},Ut={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},$t={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},zt={class:"bg-gray-50"},Ht={class:"px-4 py-3 text-sm text-gray-900 font-bold"},Ot={class:"bg-gray-50"},It={class:"px-4 py-3 text-sm text-red-600 font-bold"},Lt={class:"bg-white rounded-lg shadow overflow-hidden mb-6"},Mt={class:"p-4"},Rt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Et={class:"flex items-center mb-4"},Gt={class:"text-gray-700 whitespace-nowrap"},Jt={class:"flex items-center mb-4"},Qt={class:"text-gray-700 whitespace-nowrap"},Xt={class:"flex items-center mb-4"},Yt={class:"text-gray-700 whitespace-nowrap"},Kt={class:"mt-3"},Wt={class:"flex items-center mb-2"},Zt={class:"text-blue-500 hover:underline whitespace-nowrap"},te=["href"],ee={class:"bg-white rounded-lg shadow overflow-hidden mb-6"},se={class:"border-b border-gray-200"},ae={class:"text-lg font-medium p-4 bg-blue-50 text-blue-600 flex justify-between items-center"},ie={key:0,class:"text-xs bg-red-50 text-red-500 px-2 py-1 rounded-full"},oe={class:"p-4"},de={class:"flex items-center mb-4"},re={class:"text-gray-700 mr-4 whitespace-nowrap"},le={class:"flex items-center mb-4"},ne={class:"text-gray-700 whitespace-nowrap"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4"},ue={class:"flex items-center"},pe={class:"text-gray-700 whitespace-nowrap"},ve={class:"flex items-center"},me={class:"text-red-500 font-bold whitespace-nowrap"},xe={key:0,class:"flex items-center mb-4"},ge={class:"flex space-x-2"},be=["src"],he={key:1,class:"p-8 flex flex-col items-center justify-center text-gray-500"},we={class:"flex justify-center space-x-4 mt-8"},ye=["disabled"],_e=["disabled"],fe=["disabled"],ke=["disabled"],Te={__name:"[id]",setup(Ne){const q=H(),b=M(),h=q.params.id,{toast:c}=L(),m=p(!1),u=p(null),r=p(!1),a=p({id:h,orderNumber:"XS38833332",shopName:"卖手机壳的店",merchantCode:"UQ2332",orderTime:"2025-01-20 16:02:16",paymentTime:"----",orderType:"其他订单",receiver:"小李",phone:"0754-4223455",address:"广东省深圳市宝安区",note:"这是备注信息",logisticsType:"xxxx物流",trackingNumber:"YT48473423423",shippingPromise:"48h发货",trackingUrl:"https://www.17track.net/zh-cn",totalAmount:270,paidAmount:270,status:"售后中",products:[{id:1,name:"苹果系列胶胶手机壳",spec:"苹果11-白色",quantity:3,price:20,totalAmount:60,image:"https://via.placeholder.com/100"},{id:2,name:"苹果系列胶胶手机壳",spec:"苹果11-白色",quantity:7,price:20,totalAmount:60,image:"https://via.placeholder.com/100"}],afterSales:[{id:1,afterSaleNumber:"SH394399484",applyTime:"2025-01-23 23:21:02",reason:"产品质量不符合预期，收到后发现有破损",refundAmount:130,status:"待审核",images:["https://via.placeholder.com/80","https://via.placeholder.com/80"]},{id:2,afterSaleNumber:"SH394399484",applyTime:"2025-01-23 23:21:02",reason:"产品与描述不符",refundAmount:140,status:"已关闭",images:[]}]}),w=C(()=>a.value.afterSales&&a.value.afterSales.length>0),y=C(()=>a.value.afterSales?a.value.afterSales.length:0),_=async()=>{try{m.value=!0,r.value=!0,u.value=null,await new Promise(l=>setTimeout(l,500))}catch(l){u.value=l,c.error("获取订单详情失败："+(l.message||"未知错误"))}finally{m.value=!1,r.value=!1}},B=()=>{_()},x=async l=>{try{switch(r.value=!0,await new Promise(e=>setTimeout(e,500)),l){case"cancel":c.success("订单已取消"),a.value.status="已取消";break;case"confirm":c.success("订单已确认"),a.value.status="已完成";break;case"refund":b.push(`/dashboard/order/${h}/refund`);return}}catch(e){c.error("操作失败："+(e.message||"未知错误"))}finally{r.value=!1}},S=()=>{b.back()};return O(()=>{_()}),(l,e)=>{var k,T,N;const f=$;return d(),o("div",R,[m.value?(d(),o("div",E,e[3]||(e[3]=[I('<div class="flex items-center space-x-2" data-v-3c2bc3a6><div class="h-4 w-16 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="h-4 w-4 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="h-4 w-24 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div></div><div class="flex justify-between items-center" data-v-3c2bc3a6><div class="h-8 w-48 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="h-8 w-24 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div></div><div class="bg-white rounded-lg shadow p-6 space-y-4" data-v-3c2bc3a6><div class="h-6 w-32 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="grid grid-cols-3 gap-4" data-v-3c2bc3a6><div class="h-20 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="h-20 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="h-20 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div></div></div><div class="bg-white rounded-lg shadow p-6 space-y-4" data-v-3c2bc3a6><div class="h-6 w-32 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="space-y-4" data-v-3c2bc3a6><div class="h-24 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div><div class="h-24 bg-gray-200 rounded animate-pulse" data-v-3c2bc3a6></div></div></div>',4)]))):u.value?(d(),o("div",G,[t("div",J,s(u.value.message||"获取订单详情失败"),1),t("button",{onClick:B,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"}," 重试 ")])):(d(),o(v,{key:2},[t("div",Q,[j(f,{to:"/dashboard/order",class:"hover:text-blue-500"},{default:A(()=>e[4]||(e[4]=[F("订单")])),_:1}),e[6]||(e[6]=t("span",{class:"mx-2"},"/",-1)),j(f,{to:"/dashboard/order/center",class:"hover:text-blue-500"},{default:A(()=>e[5]||(e[5]=[F("订单中心")])),_:1}),e[7]||(e[7]=t("span",{class:"mx-2"},"/",-1)),e[8]||(e[8]=t("span",{class:"text-gray-700"},"订单详情",-1))]),t("div",X,[t("h1",Y,s(a.value.orderNumber),1),t("div",null,[t("button",K,s(a.value.status),1)])]),t("div",W,[e[20]||(e[20]=t("div",{class:"border-b border-gray-200"},[t("h2",{class:"text-lg font-medium p-4 bg-blue-50 text-blue-600"}," 订单信息 ")],-1)),t("div",Z,[t("div",tt,[t("div",null,[t("div",et,[e[10]||(e[10]=t("div",{class:"w-24 flex items-center"},[t("img",{src:"https://via.placeholder.com/32",alt:"店铺图标",class:"h-8 w-8 mr-2"})],-1)),t("div",null,[e[9]||(e[9]=t("div",{class:"text-sm font-medium whitespace-nowrap"},"平台店铺：",-1)),t("div",st,s(a.value.shopName),1)])]),t("div",at,[e[11]||(e[11]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"商家型号：",-1)),t("div",it,s(a.value.merchantCode),1)]),t("div",ot,[e[12]||(e[12]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"收货人：",-1)),t("div",dt,s(a.value.receiver),1)]),t("div",rt,[e[13]||(e[13]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"备注：",-1)),t("div",lt,s(a.value.note),1)])]),t("div",null,[t("div",nt,[e[14]||(e[14]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"订单号：",-1)),t("div",ct,s(a.value.orderNumber),1)]),t("div",ut,[e[15]||(e[15]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"下单时间：",-1)),t("div",pt,s(a.value.orderTime),1)]),t("div",vt,[e[16]||(e[16]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"支付时间：",-1)),t("div",mt,s(a.value.paymentTime),1)])]),t("div",null,[t("div",xt,[e[17]||(e[17]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"订单类型：",-1)),t("div",gt,s(a.value.orderType),1)]),t("div",bt,[e[18]||(e[18]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"收货电话：",-1)),t("div",ht,s(a.value.phone),1)]),t("div",wt,[e[19]||(e[19]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"收货地址：",-1)),t("div",yt,s(a.value.address),1)])])])])]),t("div",_t,[e[24]||(e[24]=t("div",{class:"border-b border-gray-200"},[t("h2",{class:"text-lg font-medium p-4 bg-blue-50 text-blue-600"}," 商品信息 ")],-1)),t("div",ft,[t("table",kt,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 原商品信息 "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 数量/单价 "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 平台商品信息 "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 数量/单价 "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 金额 ")])],-1)),t("tbody",Tt,[(d(!0),o(v,null,g(a.value.products,i=>(d(),o("tr",{key:i.id},[t("td",Nt,[t("div",Ct,[t("img",{class:"h-16 w-16 rounded-md object-cover mr-3",src:i.image,alt:""},null,8,jt),t("div",null,[t("div",At,s(i.name),1),t("div",Ft,"规格："+s(i.spec),1)])])]),t("td",Vt," *"+s(i.quantity)+" / ¥ "+s(i.price.toFixed(2)),1),t("td",qt,[t("div",Bt,[t("img",{class:"h-16 w-16 rounded-md object-cover mr-3",src:i.image,alt:""},null,8,St),t("div",null,[t("div",Dt,s(i.name),1),t("div",Pt,"规格："+s(i.spec),1)])])]),t("td",Ut," *"+s(i.quantity)+" / ¥ "+s(i.price.toFixed(2)),1),t("td",$t," ¥ "+s(i.totalAmount.toFixed(2)),1)]))),128))]),t("tfoot",null,[t("tr",zt,[e[21]||(e[21]=t("td",{colspan:"4",class:"px-4 py-3 text-right text-sm font-medium text-gray-900"}," 订单金额： ",-1)),t("td",Ht," ¥ "+s(a.value.totalAmount.toFixed(2)),1)]),t("tr",Ot,[e[22]||(e[22]=t("td",{colspan:"4",class:"px-4 py-3 text-right text-sm font-medium text-gray-900"}," 实付金额： ",-1)),t("td",It," ¥ "+s(a.value.paidAmount.toFixed(2)),1)])])])])]),t("div",Lt,[e[29]||(e[29]=t("div",{class:"border-b border-gray-200"},[t("h2",{class:"text-lg font-medium p-4 bg-blue-50 text-blue-600"}," 物流信息 ")],-1)),t("div",Mt,[t("div",Rt,[t("div",null,[t("div",Et,[e[25]||(e[25]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"物流类型：",-1)),t("div",Gt,s(a.value.logisticsType),1)])]),t("div",null,[t("div",Jt,[e[26]||(e[26]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"物流单号：",-1)),t("div",Qt,s(a.value.trackingNumber),1)])]),t("div",null,[t("div",Xt,[e[27]||(e[27]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"承诺发货时间：",-1)),t("div",Yt,s(a.value.shippingPromise),1)])])]),t("div",Kt,[t("div",Wt,[e[28]||(e[28]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"物流单查询：",-1)),t("div",Zt,[t("a",{href:a.value.trackingUrl,target:"_blank"},s(a.value.trackingUrl),9,te)])])])])]),t("div",ee,[t("div",se,[t("h2",ae,[e[30]||(e[30]=t("span",null,"售后信息",-1)),y.value>0?(d(),o("span",ie,s(y.value),1)):n("",!0)])]),t("div",oe,[w.value?(d(!0),o(v,{key:0},g(a.value.afterSales,(i,D)=>(d(),o("div",{key:i.id,class:V({"mb-6 border-b border-gray-200 pb-6":D<a.value.afterSales.length-1})},[t("div",de,[e[31]||(e[31]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"售后单号：",-1)),t("div",re,s(i.afterSaleNumber),1),t("div",{class:V(["text-xs px-2 py-1 rounded-full",{"bg-yellow-100 text-yellow-800":i.status==="待审核","bg-green-100 text-green-800":i.status==="已通过","bg-blue-100 text-blue-800":i.status==="处理中","bg-gray-100 text-gray-800":i.status==="已关闭"}])},s(i.status),3)]),t("div",le,[e[32]||(e[32]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"申请时间：",-1)),t("div",ne,s(i.applyTime),1)]),t("div",ce,[t("div",ue,[e[33]||(e[33]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"申请原因：",-1)),t("div",pe,s(i.reason),1)]),t("div",ve,[e[34]||(e[34]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"退款金额：",-1)),t("div",me,"¥ "+s(i.refundAmount.toFixed(2)),1)])]),i.images&&i.images.length>0?(d(),o("div",xe,[e[35]||(e[35]=t("div",{class:"w-24 text-sm text-gray-500 whitespace-nowrap"},"图片凭证：",-1)),t("div",ge,[(d(!0),o(v,null,g(i.images,(P,U)=>(d(),o("img",{key:U,src:P,alt:"凭证",class:"h-16 w-16 object-cover rounded-md cursor-pointer"},null,8,be))),128))])])):n("",!0),e[36]||(e[36]=t("div",{class:"flex justify-end space-x-3"},[t("button",{class:"px-4 py-1.5 bg-white text-blue-500 border border-blue-500 rounded-md hover:bg-blue-50 transition-colors text-sm"}," 查看售后 ")],-1))],2))),128)):n("",!0),w.value?n("",!0):(d(),o("div",he,e[37]||(e[37]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",{class:"text-lg"},"暂无售后信息",-1),t("p",{class:"text-sm mt-2"},"该订单尚未发起任何售后申请",-1)])))])]),t("div",we,[t("button",{onClick:S,class:"px-6 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:r.value}," 返回 ",8,ye),((k=a.value)==null?void 0:k.status)==="待付款"?(d(),o("button",{key:0,onClick:e[0]||(e[0]=i=>x("cancel")),class:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",disabled:r.value}," 取消订单 ",8,_e)):n("",!0),((T=a.value)==null?void 0:T.status)==="待收货"?(d(),o("button",{key:1,onClick:e[1]||(e[1]=i=>x("confirm")),class:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",disabled:r.value}," 确认收货 ",8,fe)):n("",!0),["已完成","已收货"].includes((N=a.value)==null?void 0:N.status)?(d(),o("button",{key:2,onClick:e[2]||(e[2]=i=>x("refund")),class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",disabled:r.value}," 申请退款 ",8,ke)):n("",!0)])],64))])}}},Ae=z(Te,[["__scopeId","data-v-3c2bc3a6"]]);export{Ae as default};
