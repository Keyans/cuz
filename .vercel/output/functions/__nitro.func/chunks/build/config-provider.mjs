import{d as e,r as a,c as l,z as t,l as u,b as n,A as o,S as s,B as r,u as i}from"./index3.mjs";import{k as v,v as c,K as d,L as m}from"./server.mjs";const p=e([String,Object,Function]),C={Close:a},f={validating:u,success:t,error:l},mutable=e=>e,y=Symbol(),O=Symbol("emptyValuesContextKey"),b=["",void 0,null],g=n({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>v.isFunction(e)?!e():!e}}),useEmptyValues=(e,a)=>{const l=c.getCurrentInstance()?c.inject(O,c.ref({})):c.ref({}),t=c.computed((()=>e.emptyValues||l.value.emptyValues||b)),u=c.computed((()=>v.isFunction(e.valueOnClear)?e.valueOnClear():void 0!==e.valueOnClear?e.valueOnClear:v.isFunction(l.value.valueOnClear)?l.value.valueOnClear():void 0!==l.value.valueOnClear?l.value.valueOnClear:void 0!==a?a:undefined));return t.value.includes(u.value),{emptyValues:t,valueOnClear:u,isEmptyValue:e=>t.value.includes(e)}},j=c.ref();function useGlobalConfig(e,a=void 0){const l=c.getCurrentInstance()?c.inject(y,j):j;return e?c.computed((()=>{var t,u;return null!=(u=null==(t=l.value)?void 0:t[e])?u:a})):l}const mergeConfig=(e,a)=>{const l=[...new Set([...r(e),...r(a)])],t={};for(const u of l)t[u]=void 0!==a[u]?a[u]:e[u];return t},V=n({a11y:{type:Boolean,default:!0},locale:{type:e(Object)},size:i,button:{type:e(Object)},experimentalFeatures:{type:e(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:e(Object)},zIndex:Number,namespace:{type:String,default:"el"},...g}),S={},x=c.defineComponent({name:"ElConfigProvider",props:V,setup(e,{slots:a}){c.watch((()=>e.message),(e=>{Object.assign(S,null!=e?e:{})}),{immediate:!0,deep:!0});const l=((e,a,l=!1)=>{const t=!!c.getCurrentInstance(),u=t?useGlobalConfig():void 0,n=t?c.provide:void 0;if(!n)return;const r=c.computed((()=>{const a=c.unref(e);return(null==u?void 0:u.value)?mergeConfig(u.value,a):a}));return n(y,r),n(o,c.computed((()=>r.value.locale))),n(d,c.computed((()=>r.value.namespace))),n(m,c.computed((()=>r.value.zIndex))),n(s,{size:c.computed((()=>r.value.size||""))}),n(O,c.computed((()=>({emptyValues:r.value.emptyValues,valueOnClear:r.value.valueOnClear})))),!l&&j.value||(j.value=r.value),r})(e);return()=>c.renderSlot(a,"default",{config:null==l?void 0:l.value})}});export{x as C,f as V,S as a,useGlobalConfig as b,useEmptyValues as c,C as d,p as i,mutable as m,g as u};
//# sourceMappingURL=config-provider.mjs.map
