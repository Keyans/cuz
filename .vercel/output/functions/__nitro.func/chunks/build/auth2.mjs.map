{"version":3,"file":"auth2.mjs","sources":["../../../../../../apis/axiosCancel.ts","../../../../../../apis/http.type.ts","../../../../../../apis/axiosConfig.ts","../../../../../../apis/http-handle.ts","../../../../../../apis/http.ts","../../../../../../apis/sign/index.ts","../../../../../../stores/auth.ts"],"sourcesContent":null,"names":["pendingMap","Map","getPendingUrl","config","method","url","join","CRUD_ERROR_CODE","TOKEN_OVERDUE","axiosCancel","addPending","this","removePending","cancelToken","axios","CancelToken","cancel","has","set","get","delete","removeAllPending","forEach","clear","reset","isCancel","TOKEN_TYPE","defaults","headers","post","put","instance","create","baseURL","timeout","withCredentials","Timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","Appenv","isRefreshing","requests","interceptors","request","use","Platform_Ids","getPlatformIdFromUrl","user","token","useAuthStore","currentUrl","Authorization","shopId","error","Promise","reject","response","async","result","data","_a","total","Number","size","pages","current","status","msg","code","refreshingFn","resole","push","includes","console","resolve","refreshToken","login","grant_type","cd","log","_AbstractHttp","params","showLoading","doRequest","then","res","catch","err","errHandler","notify","debounceNotify","promise","debounce","AbstractHttp","httpGet","httpPost","doGetCaptchaSlider","doPostSmsCode","defineStore","state","loading","getters","isAuthenticated","currentUser","actions","init","localStorage","getItem","JSON","parse","credentials","email","password","id","name","role","avatar","signByUser","additionalInformation","userId","_c","_b","value","setItem","stringify","navigateTo","message","register","setTimeout","logout","removeItem"],"mappings":"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"}