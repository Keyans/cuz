import{v as e,j as t,d as a,r,e as i,n as l,k as u}from"./server.mjs";import{B as o,n,o as s,C as v,D as d}from"../nitro/nitro.mjs";function defineNuxtLink(u){const v=u.componentName||"NuxtLink";function isHashLinkWithoutHashMode(e){return"string"==typeof e&&e.startsWith("#")}function resolveTrailingSlashBehavior(e,t){if(!e||"append"!==u.trailingSlash&&"remove"!==u.trailingSlash)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,u.trailingSlash);const a="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(a,u.trailingSlash)}}function useNuxtLink(a){const u=t(),o=i(),v=e.computed((()=>!!a.target&&"_self"!==a.target)),d=e.computed((()=>{const e=a.to||a.href||"";return"string"==typeof e&&n(e,{acceptRelative:!0})})),c=e.resolveComponent("RouterLink"),p=c&&"string"!=typeof c?c.useLink:void 0,f=e.computed((()=>{if(a.external)return!0;const e=a.to||a.href||"";return"object"!=typeof e&&(""===e||d.value)})),h=e.computed((()=>{const e=a.to||a.href||"";return f.value?e:resolveTrailingSlashBehavior(e,u.resolve)})),g=f.value||null==p?void 0:p({...a,to:h}),m=e.computed((()=>{var e;if(!h.value||d.value||isHashLinkWithoutHashMode(h.value))return h.value;if(f.value){const e="object"==typeof h.value&&"path"in h.value?r(h.value):h.value;return resolveTrailingSlashBehavior("object"==typeof e?u.resolve(e).href:e,u.resolve)}return"object"==typeof h.value?(null==(e=u.resolve(h.value))?void 0:e.href)??null:resolveTrailingSlashBehavior(s(o.app.baseURL,h.value),u.resolve)}));return{to:h,hasTarget:v,isAbsoluteUrl:d,isExternal:f,href:m,isActive:(null==g?void 0:g.isActive)??e.computed((()=>h.value===u.currentRoute.value.path)),isExactActive:(null==g?void 0:g.isExactActive)??e.computed((()=>h.value===u.currentRoute.value.path)),route:(null==g?void 0:g.route)??e.computed((()=>u.resolve(h.value))),async navigate(e){await l(m.value,{replace:a.replace,external:f.value||v.value})}}}return e.defineComponent({name:v,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:useNuxtLink,setup(r,{slots:i}){t();const{to:l,href:n,navigate:s,isExternal:v,hasTarget:d,isAbsoluteUrl:c}=useNuxtLink(r);e.ref(!1);async function prefetch(e=a()){}return()=>{var t;if(!v.value&&!d.value&&!isHashLinkWithoutHashMode(l.value)){const t={ref:undefined,to:l.value,activeClass:r.activeClass||u.activeClass,exactActiveClass:r.exactActiveClass||u.exactActiveClass,replace:r.replace,ariaCurrentValue:r.ariaCurrentValue,custom:r.custom};return r.custom||(t.rel=r.rel||void 0),e.h(e.resolveComponent("RouterLink"),t,i.default)}const a=r.target||null,p=((...e)=>e.find((e=>void 0!==e)))(r.noRel?"":r.rel,u.externalRelAttribute,c.value||d.value?"noopener noreferrer":"")||null;return r.custom?i.default?i.default({href:n.value,navigate:s,prefetch:prefetch,get route(){if(!n.value)return;const e=new URL(n.value,"http://localhost");return{path:e.pathname,fullPath:e.pathname,get query(){return o(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:n.value}},rel:p,target:a,isExternal:v.value||d.value,isActive:!1,isExactActive:!1}):null:e.h("a",{ref:undefined,href:n.value||null,rel:p,target:a},null==(t=i.default)?void 0:t.call(i))}}})}const c=defineNuxtLink(u);function applyTrailingSlashBehavior(e,t){const a="append"===t?v:d;return n(e)&&!e.startsWith("http")?e:a(e,!0)}export{c as _};
//# sourceMappingURL=nuxt-link.mjs.map
